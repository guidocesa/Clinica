<div class="container">
  <form [formGroup]="forma" (ngSubmit)="aceptar()">
    <div class="row">
      <div class="col-md-12 mb-1">
        <h2>Registro Profesional</h2>
      </div>
    </div>
    <div class="row formulario">
      <div class="col-md-6 mb-1">
        <label for="nombre" class="form-label">Nombre</label>
        <input type="text" class="form-control" id="nombre" placeholder="Ingrese nombre" formControlName="nombre">
        <small class="invalid" 
          *ngIf="forma.controls.nombre.errors?.required &&
          forma.controls.nombre.touched">
          El nombre es requerido
        </small>
        <small class="invalid" 
        *ngIf="forma.controls.nombre.errors?.containsSpaces &&
        forma.controls.nombre.touched">
        El nombre no puede contener espacios
      </small>
      </div>
      <div class="col-md-6 mb-1">
        <label for="apellido" class="form-label">Apellido</label>
        <input type="text" class="form-control" id="apellido" placeholder="Ingrese apellido" formControlName="apellido"> 
        <small class="invalid"
          *ngIf="forma.controls.apellido.errors?.required &&
          forma.controls.apellido.touched">
          El apellido es requerido
        </small>
      </div>
      <div class="col-md-6 mb-1">
        <label for="edad" class="form-label">Edad</label>
        <input type="number" class="form-control" id="edad" placeholder="Ingrese edad" formControlName="edad">
        <small class="invalid"
        *ngIf="forma.controls.edad.errors?.required &&
        forma.controls.edad.touched">
        La edad es requerida
      </small>
      <small class="invalid"
      *ngIf="forma.controls.edad.errors?.min || 
      forma.controls.edad.errors?.max &&
      forma.controls.edad.touched">
      La edad debe ser de 18 a 99 años
    </small>
  </div>
  <div class="col-md-6 mb-1">
    <label for="dni" class="form-label">DNI</label>
    <input type="number" class="form-control" id="dni" placeholder="Ingrese DNI" formControlName="dni">
    <small class="invalid"
    *ngIf="forma.controls.dni.errors?.required &&
    forma.controls.dni.touched">
    El DNI es requerido
  </small>
  <small class="invalid"
  *ngIf="forma.controls.edad.errors?.min || 
  forma.controls.dni.errors?.max &&
  forma.controls.dni.touched">
  El DNI debe ser de 1.000.000 a 100.000.000.
</small>
</div>
<div class="col-md-6 mb-1">
  <label for="email" class="form-label">Email</label>
  <input type="email" class="form-control" id="email" placeholder="Ingrese email" formControlName="email">
  <small class="invalid" 
  *ngIf="forma.controls.email.errors?.required &&
  forma.controls.email.touched">
  El email es requerido
</small>
<small class="invalid" 
*ngIf="forma.controls.email.errors?.email &&
forma.controls.email.touched">
El email no tiene el formato correcto
</small>
</div>
<div class="col-md-6 mb-1">
    <label for="especialidad" class="form-label">Especialidad</label>
    <select #especialidad type="text" class="form-control" id="especialidad" placeholder="Seleccione Especialidad" formControlName="especialidad">
      <option value="otorrino">Otorrino</option>
      <option value="dentista">Dentista</option>
      <option value="cardiologo">Cardiologo</option>
      <option value="traumatologo">Traumatologo</option>
      <option value="otra">Otra</option>
    </select>
    <small class="invalid"
      *ngIf="forma.controls.especialidad.errors?.required &&
      forma.controls.especialidad.touched">
      La especialidad es requerida
    </small>
</div>
<div *ngIf="especialidad.value == 'otra'" class="col-md-12 mb-1">
  <label for="especialidadNueva" class="form-label">Especialidad Nueva</label>
  <input type="text" class="form-control" id="especialidadNueva" placeholder="Ingrese Especialidad" formControlName="especialidadNueva">
  <small class="invalid"
    *ngIf="forma.controls.especialidadNueva.errors?.required &&
    forma.controls.especialidadNueva.touched">
    La especialidad es requerida
  </small>
</div>
<div class="col-md-6 mb-1">
          <label for="password" class="form-label">Contraseña</label>
          <input type="password" class="form-control" id="password" placeholder="Ingrese contraseña" formControlName="password">
          <small class="invalid" 
            *ngIf="forma.controls.password.errors?.required &&
            forma.controls.password.touched">
            La contraseña es requerida
          </small>
          <small class="invalid" 
            *ngIf="forma.controls.password.errors?.password &&
            forma.controls.password.touched">
            La contraseña debe ser mas larga
        </small>
        </div>
        <div class="col-md-6 mb-1">
          <label for="password2" class="form-label">Repetir contraseña</label>
          <input type="password2" class="form-control" id="password2" placeholder="Repita contraseña" formControlName="password2">
          <small class="invalid" 
            *ngIf="forma.controls.password.value != forma.controls.password2.value &&
            forma.controls.password2.touched">
            La contraseña no coincide
        </small>
        </div>
        <div class="col-md-12 mb-1">
          <label for="foto1" class="form-label">Foto 1</label>
          <input type="file" class="form-control" id="foto1" placeholder="Seleccione una Foto" formControlName="foto1"> 
          <small class="invalid"
            *ngIf="forma.controls.foto1.errors?.required &&
            forma.controls.foto1.touched">
            La foto son requeridas
          </small>
        </div>
    </div>
    <div class="row">
      <div class="col-md-12 d-grid gap-2">
        <button type="submit" 
        class="btn btn-primary btn-block" 
        [disabled]="forma.invalid || !forma.controls.terminos.value">
        Aceptar
      </button>
      </div>
    </div>
  </form>
</div>